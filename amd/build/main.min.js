/**
 * Javascript to initialise the block.
 *
 * @copyright 2023 David Herney @ BambuCo
 * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("block_vitrina/main",["jquery","core/str","core/log"],(function($,Str,Log){var strings=[],s=[];var init=function(){strings.length>0&&(strings.forEach((one=>{s[one.key]=one.key})),Str.get_strings(strings).done((function(results){var pos=0;strings.forEach((one=>{s[one.key]=results[pos],pos++}))})).fail((function(e){Log.debug("Error loading strings"),Log.debug(e)}))),$("[data-vitrina-toggle]").on("click",(function(){var $this=$(this),cssclass=$this.attr("data-vitrina-toggle"),target=$this.attr("data-target");$(target).toggleClass(cssclass)})),$(".block_vitrina-content").each((function(){var $blockcontent=$(this);$blockcontent.find(".block_vitrina-tabs").each((function(){var $tabs=$(this),tabslist=[];$tabs.find("[data-ref]").each((function(){var $tab=$(this);tabslist.push($tab),$tab.on("click",(function(){tabslist.forEach((one=>{$(one.data("ref")).removeClass("active")})),$tabs.find(".active[data-ref]").removeClass("active"),$tab.addClass("active"),$($tab.data("ref")).addClass("active")}))})),$blockcontent.find("[data-vitrina-tab]").each((function(){var $button=$(this);$button.on("click",(function(){var key=".tab-"+$button.data("vitrina-tab");tabslist.forEach(($tab=>{$tab.data("ref").indexOf(key)>=0&&$tab.trigger("click")}))}))}))}))}))};return{init:init,detail:function(){strings.push({key:"courselinkcopiedtoclipboard",component:"block_vitrina"}),$('input[name="courselink"]').on("click",(function(){var $input=$(this);$input.select(),document.execCommand("copy");var $msg=$('<div class="msg-courselink-copy">'+s.courselinkcopiedtoclipboard+"</div>");$input.parent().append($msg),window.setTimeout((function(){$msg.remove()}),1600)})),init()}}}));

//# sourceMappingURL=main.min.js.map