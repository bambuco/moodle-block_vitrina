{"version":3,"file":"main.min.js","sources":["../src/main.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Javascript to initialise the block.\n *\n * @copyright 2023 David Herney @ BambuCo\n * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\ndefine(['jquery', 'core/str'], function($, str) {\n\n    // Load strings.\n    var strings = [];\n    strings.push({ key: 'courselinkcopiedtoclipboard', component: 'block_vitrina' });\n\n    var s = [];\n\n    if (strings.length > 0) {\n\n        strings.forEach(one => {\n            s[one.key] = one.key;\n        });\n\n        str.get_strings(strings).then(function (results) {\n            var pos = 0;\n            strings.forEach(one => {\n                s[one.key] = results[pos];\n                pos++;\n            });\n        });\n    }\n    // End of Load strings.\n\n    /**\n     * Initialise all for the block.\n     *\n     */\n    var init = function() {\n        $('input[name=\"courselink\"]').on('click', function() {\n            var $input = $(this);\n            $input.select();\n            document.execCommand(\"copy\");\n\n            var $msg = $('<div class=\"msg-courselink-copy\">' + s['courselinkcopiedtoclipboard'] + '</div>');\n\n            $input.parent().append($msg);\n            window.setTimeout(function() {\n                $msg.remove();\n            }, 1600);\n        });\n\n        $('[data-vitrina-toggle]').on('click', function() {\n            var $this = $(this);\n            var cssclass = $this.attr('data-vitrina-toggle');\n            var target = $this.attr('data-target');\n\n            $(target).toggleClass(cssclass);\n        });\n\n    };\n\n    return {\n        init: init\n    };\n});\n"],"names":["define","$","str","strings","push","key","component","s","length","forEach","one","get_strings","then","results","pos","init","on","$input","this","select","document","execCommand","$msg","parent","append","window","setTimeout","remove","$this","cssclass","attr","target","toggleClass"],"mappings":";;;;;;AAsBAA,4BAAO,CAAC,SAAU,aAAa,SAASC,EAAGC,SAGnCC,QAAU,GACdA,QAAQC,KAAK,CAAEC,IAAK,8BAA+BC,UAAW,sBAE1DC,EAAI,GAEJJ,QAAQK,OAAS,IAEjBL,QAAQM,SAAQ,SAAAC,KACZH,EAAEG,IAAIL,KAAOK,IAAIL,OAGrBH,IAAIS,YAAYR,SAASS,MAAK,SAAUC,aAChCC,IAAM,EACVX,QAAQM,SAAQ,SAAAC,KACZH,EAAEG,IAAIL,KAAOQ,QAAQC,KACrBA,mBAkCL,CACHC,KAzBO,WACPd,EAAE,4BAA4Be,GAAG,SAAS,eAClCC,OAAShB,EAAEiB,MACfD,OAAOE,SACPC,SAASC,YAAY,YAEjBC,KAAOrB,EAAE,oCAAsCM,EAAC,4BAAkC,UAEtFU,OAAOM,SAASC,OAAOF,MACvBG,OAAOC,YAAW,WACdJ,KAAKK,WACN,SAGP1B,EAAE,yBAAyBe,GAAG,SAAS,eAC/BY,MAAQ3B,EAAEiB,MACVW,SAAWD,MAAME,KAAK,uBACtBC,OAASH,MAAME,KAAK,eAExB7B,EAAE8B,QAAQC,YAAYH"}